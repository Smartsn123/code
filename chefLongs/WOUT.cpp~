#include<bits/stdc++.h>using namespace std;#define ll  long long int#define in(a)  cin>>a#define out(a)  cout<<a#define br cout<<endl#define loop(i,k,n) for(int i=k;i<n;i++)#define loopr(i,k,n) for(int i=k;i>=n;i--)#define max(a,b) ( a>b ? a : b )#define min(a,b) ( a>b ? b : a )#define arrin(arrname,size) loop(i,0,size) cin>>arrname[i]#define fastinput ios_base::sync_with_stdio(false)#define mapiter(mymap,it) for(it=mymap.begin();it!=mymap.end();it++)#define MAXL 1000006ll arr[MAXL],sum[MAXL];ll pos[MAXL],neg[MAXL];int main(){fastinput;  int t;  cin>>t;  while(t--)  {          ll n,x,y,maxm=INT_MIN,max_i=0,h;     cin>>n>>h;          loop(i,0,n+2)     { arr[i]=0; pos[i]=0; neg[i]=0;}             loop(i,0,n)     { cin>>x>>y;       pos[x]++; neg[y+1]++;     }    ll sc=pos[0],nc=neg[0];    loop(i,1,n)    {      sc+=pos[i];      pos[i]=sc;      nc+=neg[i];      neg[i]=nc;    }       loop(i,0,n)    { arr[i]=pos[i]-neg[i];     // cout<<arr[i]<<" ";    }    //br;    sum[0]=arr[0];    loop(i,1,n)      sum[i]=sum[i-1]+arr[i];     maxm=sum[h-1];    loop(i,1,n-h+1)     maxm=max(maxm,sum[i+h-1]-sum[i-1]);     cout<<(n*h)-maxm<<endl;    }  return 0;}